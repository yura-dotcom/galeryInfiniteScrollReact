{"version":3,"sources":["App.js","index.js"],"names":["accessKey","process","App","useState","images","setImages","page","setPage","query","setQuery","getImages","apiUrl","fetch","then","res","json","data","imagesFromApi","results","useEffect","className","onSubmit","e","preventDefault","type","placeholder","value","onChange","target","dataLength","length","next","hasMore","loader","map","image","key","id","href","links","html","rel","src","urls","regular","alt","alt_description","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0LAIMA,G,MAAYC,+CAEH,SAASC,IAAO,IAAD,EACAC,mBAAS,IADT,mBACrBC,EADqB,KACbC,EADa,OAEJF,mBAAS,GAFL,mBAErBG,EAFqB,KAEfC,EAFe,OAGFJ,mBAAS,IAHP,mBAGrBK,EAHqB,KAGdC,EAHc,KAU5B,SAASC,IACP,IAAIC,EAAS,oCACTH,IAAOG,EAAM,wDAAoDH,IACrEG,GAAM,gBAAaL,GACnBK,GAAM,qBAAkBX,GACxBY,MAAMD,GACHE,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GAAU,IAAD,EACRC,EAAa,UAAGD,EAAKE,eAAR,QAAmBF,EAOtCX,EALY,IAATC,EAKO,SAAAF,GAAM,4BAAQA,GAAR,YAAmBa,KAJvBA,MAqBlB,OArCAE,qBAAU,WACRT,MAEC,CAACJ,IAmCF,yBAAKc,UAAU,OACb,uDAEA,0BAAMC,SAVV,SAAsBC,GACpBA,EAAEC,iBACFhB,EAAQ,GACRG,MAQI,2BACAc,KAAK,OACLC,YAAY,qBACZC,MAAOlB,EACPmB,SAAU,SAACL,GAAD,OAAOb,EAASa,EAAEM,OAAOF,UAGnC,2CAGF,kBAAC,IAAD,CACEG,WAAYzB,EAAO0B,OACnBC,KAAM,kBAAMxB,GAAQ,SAACD,GAAD,OAAUA,EAAO,MACrC0B,SAAS,EACTC,OAAQ,2CAGR,yBAAKb,UAAU,cACZhB,EAAO8B,KAAI,SAACC,GAAD,OACV,uBACEf,UAAU,QACVgB,IAAKD,EAAME,GACXC,KAAMH,EAAMI,MAAMC,KAClBZ,OAAO,SACPa,IAAI,uBAEJ,yBAAKC,IAAKP,EAAMQ,KAAKC,QAASC,IAAKV,EAAMW,yBC3EvDC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,U","file":"static/js/main.6ee70fa2.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport './App.css';\n\nconst accessKey = process.env.REACT_APP_UNSPLASH_ACCESS_KEY; // ключ доступу до апі\n\nexport default function App() {\n  const [images, setImages] = useState([]); // стан картинок\n  const [page, setPage] = useState(1); // стан сторінки\n  const [query, setQuery] = useState(''); // стан запиту\n\n  useEffect(() => {\n    getImages();\n    // eslint-disable-next-line\n  }, [page]); // на зміну аргумента [page](прокрутка сторінки коли [page] !== 1 і [page] >= 2) оновлюєм контент\n\n  function getImages() {\n    let apiUrl = 'https://api.unsplash.com/photos/?';\n    if (query) apiUrl = `https://api.unsplash.com/search/photos/?query=${query}`; // збираэм урл запиту\n    apiUrl += `&page=${page}`;\n    apiUrl += `&client_id=${accessKey}`;\n    fetch(apiUrl) // запит \n      .then((res) => res.json()) // приймаэм запит \n      .then((data) => {\n        const imagesFromApi = data.results ?? data; // враховуэм можливу структуру json , прсвоюэм значення в перемынну\n\n        if(page === 1) {\n          setImages(imagesFromApi); // якщо це перша сторінкка виводим контент по запиту ...imagesFromApi\n          return;\n        }\n\n        setImages(images => [...images, ...imagesFromApi]) // додаєм новий контент ...imagesFromApi до існуючого ...images \n\n      })\n  }\n    \n  if (!accessKey) {\n    return (\n      <a href='https://unsplash.com/documentation' className='error'>Required: Get Yuor Unsplash api key </a>\n    )\n  } // перевыряэм на помилку якщо немає accessKey даєм посилання на ресурс(документацію)\n\n  function searchImages(e) {\n    e.preventDefault();  // відміняєм дефолтну поведінку\n    setPage(1); // встановлюєм стан галереї в першу сторінку прокрутки \n    getImages(); // дістаєм контент по запиту з апі\n  }\n\n  return (\n    <div className=\"app\">\n      <h1>Unsplash Image Gallery!</h1>\n\n      <form onSubmit={searchImages}>\n        <input \n        type=\"text\" \n        placeholder=\"Search Unsplash...\" \n        value={query}\n        onChange={(e) => setQuery(e.target.value)} // передєм запит з інпута в стан запиту івент онченджж\n\n        />\n        <button>Search</button>\n      </form>\n\n      <InfiniteScroll\n        dataLength={images.length} //\n        next={() => setPage((page) => page + 1)} //\n        hasMore={true}\n        loader={<h4>Loading...</h4>}\n\n      >\n        <div className=\"image-grid\">\n          {images.map((image) => (\n            <a \n              className=\"image\" \n              key={image.id}\n              href={image.links.html}\n              target='_blank'\n              rel='noopener noreferrer'\n            >\n              <img src={image.urls.regular} alt={image.alt_description} />\n            </a>\n          ))}\n        </div>\n      </InfiniteScroll>\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}